"use strict";var __awaiter=this&&this.__awaiter||function(a,n,e,t){return new(e||(e=Promise))((function(r,o){function c(a){try{u(t.next(a))}catch(a){o(a)}}function i(a){try{u(t.throw(a))}catch(a){o(a)}}function u(a){var n;a.done?r(a.value):(n=a.value,n instanceof e?n:new e((function(a){a(n)}))).then(c,i)}u((t=t.apply(a,n||[])).next())}))},__generator=this&&this.__generator||function(a,n){var e,t,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,t&&(r=2&o[0]?t.return:o[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,o[1])).done)return r;switch(t=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,t=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=n.call(a,c)}catch(a){o=[6,a],t=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(exports,"__esModule",{value:!0});var mapMany_1=require("./mapMany"),concatenate=function(a){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(n){return[2/*return*/,"".concat(a,"+").concat(a)]}))}))},main=function(){return __awaiter(void 0,void 0,void 0,(function(){var a;return __generator(this,(function(n){switch(n.label){case 0:return a=["a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b","a","b","c","a","a","b","c","a","a","b"],console.log("Normal map with unlimited concurrency"),console.time("normalmap"),[4/*yield*/,Promise.all(a.map(concatenate))];case 1:return n.sent(),console.timeEnd("normalmap"),console.log("Map many with 10 concurrency"),console.time("mapMany"),[4/*yield*/,(0,mapMany_1.mapMany)(a,concatenate,10)];case 2:return n.sent(),console.timeEnd("mapMany"),[2/*return*/]}}))}))};main();
//# sourceMappingURL=mapMany.test.js.map