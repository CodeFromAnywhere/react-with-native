"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var s,t=1,r=arguments.length;t<r;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssetView=exports.defaultClassName=void 0;var jsx_runtime_1=require("react/jsx-runtime"),asset_functions_js_1=require("asset-functions-js"),server_api_url_1=require("server-api-url"),markdown_1=require("markdown"),react_with_native_1=require("react-with-native"),useAsset_1=require("./useAsset"),js_util_1=require("js-util");exports.defaultClassName="w-20 aspect-auto";var AssetView=function(e){var s=e.asset,t=e.className,r=e.projectRelativeReferencingFilePath,i=e.hideDownloadLink,a=(0,useAsset_1.useAsset)(s,r,!server_api_url_1.isDev),n=(0,js_util_1.destructureOptionalObject)(a),_=n.downloadUrl,o=n.rawText,u=n.src,l=n.type,c=n.extension,d=void 0!==s.sizeBytes?"(".concat((0,asset_functions_js_1.readableSize)(s.sizeBytes),")"):void 0;return(0,jsx_runtime_1.jsxs)(react_with_native_1.Span,__assign({style:{position:"relative"}},{children:[_&&!i?(0,jsx_runtime_1.jsx)(react_with_native_1.Div,__assign({style:{padding:"5px"}},{children:(0,jsx_runtime_1.jsxs)(react_with_native_1.A,__assign({target:"_blank",href:_},{children:[" ⬇️ Download"," ",d]}))})):null,"image"===l&&u&&(0,jsx_runtime_1.jsx)("img",{src:u,className:t||"w-40",style:{aspectRatio:"auto"}}),"audio"===l&&u&&(0,jsx_runtime_1.jsx)("audio",{controls:!0,src:u}),"video"===l&&u&&(0,jsx_runtime_1.jsx)("video",{style:{aspectRatio:"auto"},className:t||"w-40",preload:"none",
// not always available, should I check first somehow?
poster:u.replace(".mp4",".placeholder.jpeg"),controls:!0,src:u}),"text"===l&&o?(0,jsx_runtime_1.jsx)(markdown_1.MarkdownCodeblock,{text:o,extension:c}):null,null,void 0===u?(0,jsx_runtime_1.jsx)(react_with_native_1.P,{children:"Asset src not found"}):null]}))};exports.AssetView=AssetView;
//# sourceMappingURL=AssetView.js.map