"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CrudTable=void 0;var jsx_runtime_1=require("react/jsx-runtime"),api_1=require("api"),convert_case_1=require("convert-case"),js_util_1=require("js-util"),labeled_button_1=require("labeled-button"),name_conventions_1=require("name-conventions"),react_with_native_1=require("react-with-native"),react_with_native_alert_1=require("react-with-native-alert"),react_with_native_table_1=require("react-with-native-table"),schema_util_1=require("schema-util"),getPropertiesDataParameterNames_1=require("./getPropertiesDataParameterNames"),deleteDbModel=api_1.api.deleteDbModel,CrudTable=function(e){var t,r=e.tsInterface,a=e.onEndReached,n=e.data,i=e.highlight,s=e.actions,_=((0,react_with_native_alert_1.useAlert)(),(0,schema_util_1.getProperties)(null===(t=null==r?void 0:r.type)||void 0===t?void 0:t.typeDefinition)),u=(0,getPropertiesDataParameterNames_1.getPropertiesDataParameterNames)(_),l=_.filter((function(e){return!u.includes(e.name)})).map((function(e){var t=(0,schema_util_1.getReferenceParameterInfo)(e.name),r=t.descriptor,a=t.interfaceName,n=t.isReferenceMultipleParameter,i=t.isReferenceParameter,s=t.isReferenceSingleParameter,_=(0,name_conventions_1.getAssetInputType)(e.name),u=s?"referenceSingle":n?"referenceMultiple":_?"backendAsset":"text";return{name:i&&a?r?(0,convert_case_1.humanCase)("".concat(r,"-").concat(a)):(0,convert_case_1.humanCase)(a):(0,convert_case_1.humanCase)(e.name),objectParameterKey:e.name,presentationType:u}})).filter(js_util_1.notEmpty);return(0,jsx_runtime_1.jsx)(react_with_native_table_1.Table,{data:n,onEndReached:a,shouldHighlightItem:function(e){return!!(i.id&&e.id===i.id||i.slug&&e.slug===i.slug)},columns:l,renderExtraColumns:function(e){return(0,jsx_runtime_1.jsx)(react_with_native_1.Div,__assign({className:"flex flex-row"},{children:e?s.map((function(t){return(0,jsx_runtime_1.jsx)(labeled_button_1.LabeledButton,{onClick:function(){return t.action(e)},title:t.name,emoji:t.emoji,size:"small"})})):null}))},extraColumnsAtStart:!0})};exports.CrudTable=CrudTable;
//# sourceMappingURL=CrudTable.js.map