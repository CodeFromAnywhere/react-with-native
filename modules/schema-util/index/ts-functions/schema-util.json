[{"id":"DkVOpqtgztDRJCDW","commentsInside":[],"rawText":" (word: string) => {\n  if (word.slice(-2) === \"es\") {\n    return word.slice(0, word.length - 2);\n  }\n\n  if (word.slice(-1) === \"s\") {\n    return word.slice(0, word.length - 1);\n  }\n\n  // assuming it's already singular here\n  return word;\n}","name":"makeSingular","slug":"make-singular","parameters":[{"name":"word","schema":{"type":"string"},"simplifiedSchema":{"type":"string"},"required":true}],"description":"makes a word singular (only english)\n\ne.g.:\n- indexes becomes index\n- words becomes word\n\nNB: not well tested","returnType":{"rawType":"any","typeCoverage":0,"isArray":false,"isEnum":false,"isObject":false,"isPrimitive":false,"isEnumLiteral":false},"maxIndentationDepth":2,"relativePathFromProjectRoot":"/tools/typescript/schema-util/src/schema-util.ts","srcFileId":"/schema-util","operationFolderName":"schema-util","relativeFilePathFromSrc":"/schema-util.ts","relativeOperationBasePathFromProjectRoot":"/tools/typescript/schema-util","operationName":"schema-util","size":{"characters":348,"lines":18,"bytes":348,"bytesPerCharacter":1,"charactersPerfLine":19.333333333333332,"linesPerFile":18,"numberOfFiles":1}},{"id":"gZqFDqRhKpLJtXaO","commentsInside":[],"rawText":" (schema: Schema | undefined) => {\n  const schemas = makeArray(schema?.items).map(getSchema).filter(notEmpty);\n  return schemas;\n}","name":"getSchemaItems","slug":"get-schema-items","parameters":[{"name":"schema","schema":{"$ref":"#/definitions/Schema","description":"schema type interface we use in TsInterface\n\nNB: don't export because this would make this type exist twice."},"simplifiedSchema":{"properties":[{"name":"$id","required":false,"schema":{"type":"string"}},{"name":"$ref","required":false,"schema":{"type":"string"}},{"name":"$schema","required":false,"schema":{"description":"Meta schema\n\nRecommended values:\n- 'http://json-schema.org/schema#'\n- 'http://json-schema.org/hyper-schema#'\n- 'http://json-schema.org/draft-07/schema#'\n- 'http://json-schema.org/draft-07/hyper-schema#'","type":"string"}},{"name":"$comment","required":false,"schema":{"type":"string"}},{"name":"$defs","required":false,"schema":{"properties":[],"type":"object"}},{"name":"type","required":false,"schema":{"properties":[],"type":"object"}},{"name":"enum","required":false,"schema":{"items":[{"schema":{"description":"Primitive type","properties":[],"type":"object"},"name":"JSONSchema7Type"}],"type":"array"}},{"name":"const","required":false,"schema":{"description":"Primitive type","properties":[],"type":"object"}},{"name":"multipleOf","required":false,"schema":{"type":"number"}},{"name":"maximum","required":false,"schema":{"type":"number"}},{"name":"exclusiveMaximum","required":false,"schema":{"type":"number"}},{"name":"minimum","required":false,"schema":{"type":"number"}},{"name":"exclusiveMinimum","required":false,"schema":{"type":"number"}},{"name":"maxLength","required":false,"schema":{"type":"number"}},{"name":"minLength","required":false,"schema":{"type":"number"}},{"name":"pattern","required":false,"schema":{"type":"string"}},{"name":"items","required":false,"schema":{"properties":[],"type":"object"}},{"name":"additionalItems","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"maxItems","required":false,"schema":{"type":"number"}},{"name":"minItems","required":false,"schema":{"type":"number"}},{"name":"uniqueItems","required":false,"schema":{"type":"boolean"}},{"name":"contains","required":false,"schema":{"circularRefName":"JSONSchema7","properties":[],"type":"object"}},{"name":"maxProperties","required":false,"schema":{"type":"number"}},{"name":"minProperties","required":false,"schema":{"type":"number"}},{"name":"required","required":false,"schema":{"items":[{"schema":{"type":"string"},"name":null}],"type":"array"}},{"name":"properties","required":false,"schema":{"properties":[],"type":"object"}},{"name":"patternProperties","required":false,"schema":{"properties":[],"type":"object"}},{"name":"additionalProperties","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"dependencies","required":false,"schema":{"properties":[],"type":"object"}},{"name":"propertyNames","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"if","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"then","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"else","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"allOf","required":false,"schema":{"items":[{"schema":{"description":"JSON Schema v7","properties":[],"type":"object"},"name":"JSONSchema7Definition"}],"type":"array"}},{"name":"anyOf","required":false,"schema":{"items":[{"schema":{"description":"JSON Schema v7","properties":[],"type":"object"},"name":"JSONSchema7Definition"}],"type":"array"}},{"name":"oneOf","required":false,"schema":{"items":[{"schema":{"description":"JSON Schema v7","properties":[],"type":"object"},"name":"JSONSchema7Definition"}],"type":"array"}},{"name":"not","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"format","required":false,"schema":{"type":"string"}},{"name":"contentMediaType","required":false,"schema":{"type":"string"}},{"name":"contentEncoding","required":false,"schema":{"type":"string"}},{"name":"definitions","required":false,"schema":{"properties":[],"type":"object"}},{"name":"title","required":false,"schema":{"type":"string"}},{"name":"description","required":false,"schema":{"type":"string"}},{"name":"default","required":false,"schema":{"description":"Primitive type","properties":[],"type":"object"}},{"name":"readOnly","required":false,"schema":{"type":"boolean"}},{"name":"writeOnly","required":false,"schema":{"type":"boolean"}},{"name":"examples","required":false,"schema":{"description":"Primitive type","properties":[],"type":"object"}}],"type":"object"},"required":false}],"description":"==========","returnType":{"rawType":"any","typeCoverage":0,"isArray":false,"isEnum":false,"isObject":false,"isPrimitive":false,"isEnumLiteral":false},"maxIndentationDepth":1,"relativePathFromProjectRoot":"/tools/typescript/schema-util/src/schema-util.ts","srcFileId":"/schema-util","operationFolderName":"schema-util","relativeFilePathFromSrc":"/schema-util.ts","relativeOperationBasePathFromProjectRoot":"/tools/typescript/schema-util","operationName":"schema-util","size":{"characters":140,"lines":4,"bytes":140,"bytesPerCharacter":1,"charactersPerfLine":35,"linesPerFile":4,"numberOfFiles":1}},{"id":"fEIBWHxFkpEvpXsU","commentsInside":[],"rawText":" (\n  maybeSchema: JSONSchema7Definition | undefined\n): Schema | undefined =>\n  typeof maybeSchema !== \"object\" ? undefined : maybeSchema","name":"getSchema","slug":"get-schema","parameters":[{"name":"maybeSchema","schema":{"$ref":"#/definitions/JSONSchema7Definition"},"simplifiedSchema":{"description":"JSON Schema v7","properties":[],"type":"object"},"required":false}],"description":"parses a JSONSchema7Definition to JSONSchema7|undefined so we can use it","returnType":{"rawType":"import(\"/Users/king/King/node_modules/@types/json-schema/index\").JSONSchema7 | undefined","typeDefinition":{"optional":true},"typeCoverage":0,"isArray":false,"isEnum":false,"isObject":false,"isPrimitive":false,"isEnumLiteral":false,"simplifiedSchema":{"properties":[],"type":"object"}},"maxIndentationDepth":1,"relativePathFromProjectRoot":"/tools/typescript/schema-util/src/schema-util.ts","srcFileId":"/schema-util","operationFolderName":"schema-util","relativeFilePathFromSrc":"/schema-util.ts","relativeOperationBasePathFromProjectRoot":"/tools/typescript/schema-util","operationName":"schema-util","size":{"characters":208,"lines":4,"bytes":208,"bytesPerCharacter":1,"charactersPerfLine":52,"linesPerFile":4,"numberOfFiles":1}},{"id":"ACjSZzBaLeLLhsrO","commentsInside":[],"rawText":" (ref?: string) => {\n  return ref?.split(\"/\").pop();\n}","name":"getRefLink","slug":"get-ref-link","parameters":[{"name":"ref","schema":{"type":"string"},"simplifiedSchema":{"type":"string"},"required":false}],"description":"gets the $ref from a schema and parses the interface name from it","returnType":{"rawType":"any","typeCoverage":0,"isArray":false,"isEnum":false,"isObject":false,"isPrimitive":false,"isEnumLiteral":false},"maxIndentationDepth":1,"relativePathFromProjectRoot":"/tools/typescript/schema-util/src/schema-util.ts","srcFileId":"/schema-util","operationFolderName":"schema-util","relativeFilePathFromSrc":"/schema-util.ts","relativeOperationBasePathFromProjectRoot":"/tools/typescript/schema-util","operationName":"schema-util","size":{"characters":119,"lines":3,"bytes":119,"bytesPerCharacter":1,"charactersPerfLine":39.666666666666664,"linesPerFile":3,"numberOfFiles":1}},{"id":"YOAnGFZRUHKcydUJ","commentsInside":[],"rawText":" (schema: Schema | undefined): SchemaProperty[] => {\n  if (!schema) return [];\n  const propertyKeys = schema.properties ? Object.keys(schema.properties) : [];\n  const properties = propertyKeys\n    .map((key) => {\n      const propertySchema = getSchema(schema.properties?.[key]);\n      return propertySchema\n        ? {\n            name: key,\n            schema: propertySchema,\n            required: schema.required?.includes(key) || false,\n          }\n        : null;\n    })\n    .filter(notEmpty);\n\n  return properties;\n}","name":"getProperties","slug":"get-properties","parameters":[{"name":"schema","schema":{"$ref":"#/definitions/Schema","description":"schema type interface we use in TsInterface\n\nNB: don't export because this would make this type exist twice."},"simplifiedSchema":{"properties":[{"name":"$id","required":false,"schema":{"type":"string"}},{"name":"$ref","required":false,"schema":{"type":"string"}},{"name":"$schema","required":false,"schema":{"description":"Meta schema\n\nRecommended values:\n- 'http://json-schema.org/schema#'\n- 'http://json-schema.org/hyper-schema#'\n- 'http://json-schema.org/draft-07/schema#'\n- 'http://json-schema.org/draft-07/hyper-schema#'","type":"string"}},{"name":"$comment","required":false,"schema":{"type":"string"}},{"name":"$defs","required":false,"schema":{"properties":[],"type":"object"}},{"name":"type","required":false,"schema":{"properties":[],"type":"object"}},{"name":"enum","required":false,"schema":{"items":[{"schema":{"description":"Primitive type","properties":[],"type":"object"},"name":"JSONSchema7Type"}],"type":"array"}},{"name":"const","required":false,"schema":{"description":"Primitive type","properties":[],"type":"object"}},{"name":"multipleOf","required":false,"schema":{"type":"number"}},{"name":"maximum","required":false,"schema":{"type":"number"}},{"name":"exclusiveMaximum","required":false,"schema":{"type":"number"}},{"name":"minimum","required":false,"schema":{"type":"number"}},{"name":"exclusiveMinimum","required":false,"schema":{"type":"number"}},{"name":"maxLength","required":false,"schema":{"type":"number"}},{"name":"minLength","required":false,"schema":{"type":"number"}},{"name":"pattern","required":false,"schema":{"type":"string"}},{"name":"items","required":false,"schema":{"properties":[],"type":"object"}},{"name":"additionalItems","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"maxItems","required":false,"schema":{"type":"number"}},{"name":"minItems","required":false,"schema":{"type":"number"}},{"name":"uniqueItems","required":false,"schema":{"type":"boolean"}},{"name":"contains","required":false,"schema":{"circularRefName":"JSONSchema7","properties":[],"type":"object"}},{"name":"maxProperties","required":false,"schema":{"type":"number"}},{"name":"minProperties","required":false,"schema":{"type":"number"}},{"name":"required","required":false,"schema":{"items":[{"schema":{"type":"string"},"name":null}],"type":"array"}},{"name":"properties","required":false,"schema":{"properties":[],"type":"object"}},{"name":"patternProperties","required":false,"schema":{"properties":[],"type":"object"}},{"name":"additionalProperties","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"dependencies","required":false,"schema":{"properties":[],"type":"object"}},{"name":"propertyNames","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"if","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"then","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"else","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"allOf","required":false,"schema":{"items":[{"schema":{"description":"JSON Schema v7","properties":[],"type":"object"},"name":"JSONSchema7Definition"}],"type":"array"}},{"name":"anyOf","required":false,"schema":{"items":[{"schema":{"description":"JSON Schema v7","properties":[],"type":"object"},"name":"JSONSchema7Definition"}],"type":"array"}},{"name":"oneOf","required":false,"schema":{"items":[{"schema":{"description":"JSON Schema v7","properties":[],"type":"object"},"name":"JSONSchema7Definition"}],"type":"array"}},{"name":"not","required":false,"schema":{"description":"JSON Schema v7","properties":[],"type":"object"}},{"name":"format","required":false,"schema":{"type":"string"}},{"name":"contentMediaType","required":false,"schema":{"type":"string"}},{"name":"contentEncoding","required":false,"schema":{"type":"string"}},{"name":"definitions","required":false,"schema":{"properties":[],"type":"object"}},{"name":"title","required":false,"schema":{"type":"string"}},{"name":"description","required":false,"schema":{"type":"string"}},{"name":"default","required":false,"schema":{"description":"Primitive type","properties":[],"type":"object"}},{"name":"readOnly","required":false,"schema":{"type":"boolean"}},{"name":"writeOnly","required":false,"schema":{"type":"boolean"}},{"name":"examples","required":false,"schema":{"description":"Primitive type","properties":[],"type":"object"}}],"type":"object"},"required":false}],"description":"Gets all the properties of a schema","returnType":{"rawType":"import(\"/Users/king/King/tools/typescript/schema-util/src/schema-util\").SchemaProperty[]","typeDefinition":{"optional":false,"type":"array","items":{"type":"object","properties":{"name":{"type":"string","allOf":[{"transform":["trim"]},{"minLength":1}]},"schema":{},"required":{"type":"boolean"}},"required":["name","schema","required"]}},"typeCoverage":0,"isArray":true,"isEnum":false,"isObject":true,"isPrimitive":false,"isEnumLiteral":false,"simplifiedSchema":{"items":[{"schema":{"properties":[{"name":"name","required":true,"schema":{"type":"string"}},{"name":"schema","required":true,"schema":{"properties":[],"type":"object"}},{"name":"required","required":true,"schema":{"type":"boolean"}}],"type":"object"},"name":null}],"type":"array"}},"maxIndentationDepth":6,"relativePathFromProjectRoot":"/tools/typescript/schema-util/src/schema-util.ts","srcFileId":"/schema-util","operationFolderName":"schema-util","relativeFilePathFromSrc":"/schema-util.ts","relativeOperationBasePathFromProjectRoot":"/tools/typescript/schema-util","operationName":"schema-util","size":{"characters":557,"lines":18,"bytes":557,"bytesPerCharacter":1,"charactersPerfLine":30.944444444444443,"linesPerFile":18,"numberOfFiles":1}}]