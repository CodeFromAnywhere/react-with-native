"use strict";var __spreadArray=this&&this.__spreadArray||function(e,s,n){if(n||2===arguments.length)for(var r,t=0,a=s.length;t<a;t++)!r&&t in s||(r||(r=Array.prototype.slice.call(s,0,t)),r[t]=s[t]);return e.concat(r||Array.prototype.slice.call(s))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOperationClassification=exports.hasDependency=exports.getAllPackageJsonDependencies=void 0;var fs_util_1=require("fs-util"),read_file_1=require("read-file"),getAllPackageJsonDependencies=function(e){var s=e.dependencies?Object.keys(e.dependencies):[],n=e.devDependencies?Object.keys(e.devDependencies):[],r=e.peerDependencies?Object.keys(e.peerDependencies):[];return __spreadArray(__spreadArray(__spreadArray([],s,!0),n,!0),r,!0)};exports.getAllPackageJsonDependencies=getAllPackageJsonDependencies;var hasDependency=function(e,s){return(0,exports.getAllPackageJsonDependencies)(e).includes(s)};exports.hasDependency=hasDependency;
/**
 * returns OperationClassification if it's an operation, or undefined if it's not
 */
var getOperationClassification=function(e){var s=fs_util_1.path.join(e,"package.json"),n=fs_util_1.path.join(e,"tsconfig.json"),r=fs_util_1.path.join(e,"next.config.js"),t=fs_util_1.fs.existsSync(s),a=fs_util_1.fs.existsSync(n),i=fs_util_1.fs.existsSync(r);if(t&&a){var p=(0,read_file_1.tryParseJson)(fs_util_1.fs.readFileSync(s,"utf8"));if(p&&!p.workspaces){var c=(0,exports.hasDependency)(p,"expo"),o=(0,exports.hasDependency)(p,"react-native"),d=(0,exports.hasDependency)(p,"react"),l=(0,exports.hasDependency)(p,"express"),f=(0,exports.hasDependency)(p,"server"),_=(0,exports.hasDependency)(p,"@types/node");return i?"web":c||o?"app":d?"ui":l||f?"server":_?"node":"js"}}};exports.getOperationClassification=getOperationClassification;
//# sourceMappingURL=getOperationClassification.js.map