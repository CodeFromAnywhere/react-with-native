[{"id":"EQUdyqGUyKQNzMfn","name":"Comment","slug":"comment","relativePathFromProjectRoot":"/tools/control-fs/get-path/src/getOperationPath.ts","srcFileId":"/getOperationPath","operationFolderName":"get-path","relativeFilePathFromSrc":"/getOperationPath.ts","relativeOperationBasePathFromProjectRoot":"/tools/control-fs/get-path","operationName":"get-path","comment":"Gets a path of any operation in the project\n\nTODO: IDEA: maybe auto-generate key-value JSON where keys are the package-names of all operations and values are paths of their locations in the file system. we can easily generate this ourselves, but maybe it's also easy to use the npm yarn workspace for this, although it may not be available in all circumstances, so better not rely on it. The advantage of this would be that this function becomes sync and is much more efficient. The disadvantage is that every time you move something or add something new, this indexation has to happen, otherwise it fails.","rawStatement":"export const getOperationPath = async (\n  /**\n   * specify the operation folder name\n   */\n  operationName: string,\n\n  config?: { manualProjectRoot?: string }\n): Promise<string | undefined> => {\n  const basePath = getPathsWithOperations({\n    manualProjectRoot: config?.manualProjectRoot,\n  });\n\n  const operationPaths: string[] = await exploreOperationFolders({\n    basePath,\n  });\n\n  if (operationPaths.length === 0) {\n    log(\"No operations available\", { type: \"error\" });\n    return;\n  }\n  const operationPathsWithTheirFolder = await Promise.all(\n    operationPaths.map(async (p) => ({\n      path: p,\n      folderName: getLastFolder(p),\n    }))\n  );\n\n  const foundPath = operationPathsWithTheirFolder.find(\n    (f) => f.folderName === operationName\n  )?.path;\n\n  return foundPath;\n};","parameters":{},"types":["todo"],"firstLine":7,"lastLine":13}]