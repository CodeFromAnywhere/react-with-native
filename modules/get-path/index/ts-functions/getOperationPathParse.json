[{"id":"HQzExReYYIZeDRyx","commentsInside":[],"rawText":" (\n  absolutePath: string\n): OperationPathParse | undefined => {\n  if (!absolutePath) return;\n  const pathParse = getPathParse(absolutePath);\n  if (!pathParse) return;\n  const projectRoot = getProjectRoot(absolutePath);\n  if (!projectRoot) return;\n  const operationBasePath = findOperationBasePath(absolutePath);\n  if (!operationBasePath) return;\n  const operationSrcPath = path.join(operationBasePath, \"src\");\n\n  const operationFolderName = getLastFolder(operationBasePath);\n  const operationName = readJsonFileSync<PackageJSON>(\n    path.join(operationBasePath, \"package.json\")\n  )?.name;\n\n  //something like xxx/xxx/x.ts\n  const relativeFilePathFromSrc = absolutePath.slice(operationSrcPath.length);\n  const parsedPath = path.parse(absolutePath);\n  const srcFileId = path\n    .join(parsedPath.dir, parsedPath.name)\n    .slice(operationSrcPath.length);\n\n  const relativeOperationBasePathFromProjectRoot = operationBasePath.slice(\n    projectRoot.length\n  );\n\n  return {\n    relativePathFromProjectRoot: pathParse.relativePathFromProjectRoot,\n    srcFileId,\n    operationFolderName,\n    relativeFilePathFromSrc,\n    relativeOperationBasePathFromProjectRoot,\n    operationName,\n  };\n}","name":"getOperationPathParse","slug":"get-operation-path-parse","parameters":[{"name":"absolutePath","schema":{"type":"string"},"simplifiedSchema":{"type":"string"},"required":true}],"description":"get all operation-related path information that can be inferred from the path\n\nNB: currently it also looks up the operation name from its packagejson","returnType":{"rawType":"import(\"/Users/king/King/tools/types/code-types/build/PathMetaData\").OperationPathParse | undefined","typeCoverage":0,"isArray":false,"isEnum":false,"isObject":false,"isPrimitive":false,"isEnumLiteral":false},"maxIndentationDepth":2,"relativePathFromProjectRoot":"/tools/control-fs/get-path/src/getOperationPathParse.ts","srcFileId":"/getOperationPathParse","operationFolderName":"get-path","relativeFilePathFromSrc":"/getOperationPathParse.ts","relativeOperationBasePathFromProjectRoot":"/tools/control-fs/get-path","operationName":"get-path","size":{"characters":1333,"lines":39,"bytes":1333,"bytesPerCharacter":1,"charactersPerfLine":34.17948717948718,"linesPerFile":39,"numberOfFiles":1}}]