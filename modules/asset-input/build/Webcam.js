"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebcamCapture=void 0;var jsx_runtime_1=require("react/jsx-runtime"),react_webcam_1=__importDefault(require("react-webcam")),react_1=require("react"),react_with_native_1=require("react-with-native"),WIDTH=1920,HEIGHT=1080,ASPECT_RATIO=WIDTH/HEIGHT,videoConstraints={width:WIDTH,height:HEIGHT,facingMode:"user"},base64UrltoBlob=function(e){var t;if(e){for(var r=e.split(","),a=null===(t=r[0].match(/:(.*?);/))||void 0===t?void 0:t[1],i=atob(r[1]),s=i.length,n=new Uint8Array(s);s--;)n[s]=i.charCodeAt(s);return new Blob([n],{type:a})}},WebcamCapture=function(e){var t=(0,react_1.useState)(null),r=t[0],a=t[1],i=e.withBlob;return(0,jsx_runtime_1.jsx)(react_webcam_1.default,__assign({audio:!1,height:HEIGHT,width:WIDTH,screenshotFormat:"image/jpeg",videoConstraints:videoConstraints,className:"w-full h-full flex"},{children:function(e){var t=e.getScreenshot;return(0,jsx_runtime_1.jsxs)(react_with_native_1.Div,__assign({className:"relative"},{children:[r?(0,jsx_runtime_1.jsx)(react_with_native_1.Image,{src:r,className:"absolute bottom-6 left-10 w-1/5 aspect-auto"}):null,(0,jsx_runtime_1.jsx)(react_with_native_1.Button,__assign({className:"hover:bg-gray-200 absolute bottom-6 left-1/2 p-4 border border-black bg-white rounded-full",onClick:function(){var e=t(),r=base64UrltoBlob(e),s=r?URL.createObjectURL(r):void 0;a(e),r&&s&&i(s,r)}},{children:"ðŸ“¸"}))]}))}}))};exports.WebcamCapture=WebcamCapture;
//# sourceMappingURL=Webcam.js.map